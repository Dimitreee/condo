1. Добавление/восстановление проперти в УК

1.1. Проперти с таким адресом есть только в данной УК

1.1.1. Проперти добавлено в УК и нет в других УК
 - слинковать всех резидентов с таким адресом на данную проперти

1.1.2. Проперти добавлено в УК и удалено в других УК
 - слинковать всех резидентов с таким адресом на данную проперти

1.2. Проперти с таким адресом есть и в других УК

1.2.1. Дата создания проперти в данной УК раньше остальных неудаленных проперти с таким адресом
 - слинковать всех резидентов (включая уже слинкованных на другие, в т.ч. удаленные, проперти) с таким адресом на данную проперти

1.2.2. Дата создания проперти в данной УК позже какого либо другого не удаленного проперти с таким адресом
 - ничего не делать

2. Софт Удаление проперти в УК

2.1. Неудаленное проперти с таким адресом есть только в данной УК
 - слинковать всех резидентов с данного проперти на null

2.2. Неудаленные проперти с таким адресом есть в других УК
 - слинковать всех резидентов с данного проперти на самое раннее такое неудаленное проперти

3. Удаление УК не рассматриваем, т.к. это ломает приложение и УК не удаляются вообще.

А - проперти (адрес) - резидент
Б - проперти (адрес)

А - удаляет проперти - резидент -> Б
А - проперти (адрес) удалено
Б - проперти (адрес) - резидент

А - проперти (адрес) восстановлено - резидент

А - проперти (адрес) - резидент
Б - проперти (адрес)
