// auto generated by kmigrator
// KMIGRATOR:0114_auto_20220318_0631:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi45IG9uIDIwMjItMDMtMTggMDY6MzEKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAxMTNfYXV0b18yMDIyMDMxNV8wNjEzJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUNvbnN0cmFpbnQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3NlcnZpY2VzdWJzY3JpcHRpb24nLAogICAgICAgICAgICBuYW1lPSdwb3NpdGl2ZV91bml0c0NvdW50X2NoZWNrJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlQ29uc3RyYWludCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nc2VydmljZXN1YnNjcmlwdGlvbicsCiAgICAgICAgICAgIG5hbWU9J3Bvc2l0aXZlX3VuaXRQcmljZV9jaGVjaycsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUNvbnN0cmFpbnQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3NlcnZpY2VzdWJzY3JpcHRpb24nLAogICAgICAgICAgICBuYW1lPSdwb3NpdGl2ZV90b3RhbFByaWNlX2NoZWNrJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkQ29uc3RyYWludCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nc2VydmljZXN1YnNjcmlwdGlvbicsCiAgICAgICAgICAgIGNvbnN0cmFpbnQ9bW9kZWxzLkNoZWNrQ29uc3RyYWludChjaGVjaz1tb2RlbHMuUSgoJ3VuaXRzQ291bnRfX2d0ZScsIDApKSwgbmFtZT0ncG9zaXRpdmVfdW5pdHNDb3VudF9jaGVjaycpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRDb25zdHJhaW50KAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzZXJ2aWNlc3Vic2NyaXB0aW9uJywKICAgICAgICAgICAgY29uc3RyYWludD1tb2RlbHMuQ2hlY2tDb25zdHJhaW50KGNoZWNrPW1vZGVscy5RKCgndW5pdFByaWNlX19ndGUnLCAwKSksIG5hbWU9J3Bvc2l0aXZlX3VuaXRQcmljZV9jaGVjaycpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRDb25zdHJhaW50KAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzZXJ2aWNlc3Vic2NyaXB0aW9uJywKICAgICAgICAgICAgY29uc3RyYWludD1tb2RlbHMuQ2hlY2tDb25zdHJhaW50KGNoZWNrPW1vZGVscy5RKCgndG90YWxQcmljZV9fZ3RlJywgMCkpLCBuYW1lPSdwb3NpdGl2ZV90b3RhbFByaWNlX2NoZWNrJyksCiAgICAgICAgKSwKICAgIF0K

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove constraint positive_unitsCount_check from model servicesubscription
--
ALTER TABLE "ServiceSubscription" DROP CONSTRAINT "positive_unitsCount_check";
--
-- Remove constraint positive_unitPrice_check from model servicesubscription
--
ALTER TABLE "ServiceSubscription" DROP CONSTRAINT "positive_unitPrice_check";
--
-- Remove constraint positive_totalPrice_check from model servicesubscription
--
ALTER TABLE "ServiceSubscription" DROP CONSTRAINT "positive_totalPrice_check";
--
-- Create constraint positive_unitsCount_check on model servicesubscription
--
ALTER TABLE "ServiceSubscription" ADD CONSTRAINT "positive_unitsCount_check" CHECK ("unitsCount" >= 0);
--
-- Create constraint positive_unitPrice_check on model servicesubscription
--
ALTER TABLE "ServiceSubscription" ADD CONSTRAINT "positive_unitPrice_check" CHECK ("unitPrice" >= 0);
--
-- Create constraint positive_totalPrice_check on model servicesubscription
--
ALTER TABLE "ServiceSubscription" ADD CONSTRAINT "positive_totalPrice_check" CHECK ("totalPrice" >= 0);
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Create constraint positive_totalPrice_check on model servicesubscription
--
ALTER TABLE "ServiceSubscription" DROP CONSTRAINT "positive_totalPrice_check";
--
-- Create constraint positive_unitPrice_check on model servicesubscription
--
ALTER TABLE "ServiceSubscription" DROP CONSTRAINT "positive_unitPrice_check";
--
-- Create constraint positive_unitsCount_check on model servicesubscription
--
ALTER TABLE "ServiceSubscription" DROP CONSTRAINT "positive_unitsCount_check";
--
-- Remove constraint positive_totalPrice_check from model servicesubscription
--
ALTER TABLE "ServiceSubscription" ADD CONSTRAINT "positive_totalPrice_check" CHECK ("totalPrice" > 0);
--
-- Remove constraint positive_unitPrice_check from model servicesubscription
--
ALTER TABLE "ServiceSubscription" ADD CONSTRAINT "positive_unitPrice_check" CHECK ("unitPrice" > 0);
--
-- Remove constraint positive_unitsCount_check from model servicesubscription
--
ALTER TABLE "ServiceSubscription" ADD CONSTRAINT "positive_unitsCount_check" CHECK ("unitsCount" > 0);
COMMIT;

    `)
}
