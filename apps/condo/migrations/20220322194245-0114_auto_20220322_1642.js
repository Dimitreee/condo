// auto generated by kmigrator
// KMIGRATOR:0114_auto_20220322_1642:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi40IG9uIDIwMjItMDMtMjIgMTY6NDIKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKaW1wb3J0IGRqYW5nby5kYi5tb2RlbHMuZGVsZXRpb24KCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAxMTNfYXV0b18yMDIyMDMxNV8wNjEzJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdhY3F1aXJpbmdpbnRlZ3JhdGlvbmNvbnRleHQnLAogICAgICAgICAgICBuYW1lPSdwYXltZW50c0FsbG93ZWRGcm9tJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkRhdGVUaW1lRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2FjcXVpcmluZ2ludGVncmF0aW9uY29udGV4dCcsCiAgICAgICAgICAgIG5hbWU9J3BheW1lbnRzQWxsb3dlZFRvJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkRhdGVUaW1lRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2FjcXVpcmluZ2ludGVncmF0aW9uY29udGV4dGhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdpc1BheW1lbnRzQWxsb3dlZCcsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5KU09ORmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2FjcXVpcmluZ2ludGVncmF0aW9uY29udGV4dGhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdwYXltZW50c0FsbG93ZWRGcm9tJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkRhdGVUaW1lRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2FjcXVpcmluZ2ludGVncmF0aW9uY29udGV4dGhpc3RvcnlyZWNvcmQnLAogICAgICAgICAgICBuYW1lPSdwYXltZW50c0FsbG93ZWRUbycsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5EYXRlVGltZUZpZWxkKGJsYW5rPVRydWUsIG51bGw9VHJ1ZSksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFsdGVyRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2FjcXVpcmluZ2ludGVncmF0aW9uY29udGV4dCcsCiAgICAgICAgICAgIG5hbWU9J29yZ2FuaXphdGlvbicsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Gb3JlaWduS2V5KGRiX2NvbHVtbj0nb3JnYW5pemF0aW9uJywgb25fZGVsZXRlPWRqYW5nby5kYi5tb2RlbHMuZGVsZXRpb24uQ0FTQ0FERSwgcmVsYXRlZF9uYW1lPScrJywgdG89J19kamFuZ29fc2NoZW1hLm9yZ2FuaXphdGlvbicpLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field paymentsAllowedFrom to acquiringintegrationcontext
--
ALTER TABLE "AcquiringIntegrationContext" ADD COLUMN "paymentsAllowedFrom" timestamp with time zone NULL;
--
-- Add field paymentsAllowedTo to acquiringintegrationcontext
--
ALTER TABLE "AcquiringIntegrationContext" ADD COLUMN "paymentsAllowedTo" timestamp with time zone NULL;
--
-- Add field isPaymentsAllowed to acquiringintegrationcontexthistoryrecord
--
ALTER TABLE "AcquiringIntegrationContextHistoryRecord" ADD COLUMN "isPaymentsAllowed" jsonb NULL;
--
-- Add field paymentsAllowedFrom to acquiringintegrationcontexthistoryrecord
--
ALTER TABLE "AcquiringIntegrationContextHistoryRecord" ADD COLUMN "paymentsAllowedFrom" timestamp with time zone NULL;
--
-- Add field paymentsAllowedTo to acquiringintegrationcontexthistoryrecord
--
ALTER TABLE "AcquiringIntegrationContextHistoryRecord" ADD COLUMN "paymentsAllowedTo" timestamp with time zone NULL;
--
-- Alter field organization on acquiringintegrationcontext
--
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Alter field organization on acquiringintegrationcontext
--
--
-- Add field paymentsAllowedTo to acquiringintegrationcontexthistoryrecord
--
ALTER TABLE "AcquiringIntegrationContextHistoryRecord" DROP COLUMN "paymentsAllowedTo" CASCADE;
--
-- Add field paymentsAllowedFrom to acquiringintegrationcontexthistoryrecord
--
ALTER TABLE "AcquiringIntegrationContextHistoryRecord" DROP COLUMN "paymentsAllowedFrom" CASCADE;
--
-- Add field isPaymentsAllowed to acquiringintegrationcontexthistoryrecord
--
ALTER TABLE "AcquiringIntegrationContextHistoryRecord" DROP COLUMN "isPaymentsAllowed" CASCADE;
--
-- Add field paymentsAllowedTo to acquiringintegrationcontext
--
ALTER TABLE "AcquiringIntegrationContext" DROP COLUMN "paymentsAllowedTo" CASCADE;
--
-- Add field paymentsAllowedFrom to acquiringintegrationcontext
--
ALTER TABLE "AcquiringIntegrationContext" DROP COLUMN "paymentsAllowedFrom" CASCADE;
COMMIT;

    `)
}
