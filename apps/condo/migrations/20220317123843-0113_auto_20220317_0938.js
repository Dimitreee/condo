// auto generated by kmigrator
// KMIGRATOR:0113_auto_20220317_0938:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi45IG9uIDIwMjItMDMtMTcgMDk6MzgKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAxMTJfcGF5bWVudHNmaWx0ZXJ0ZW1wbGF0ZWhpc3RvcnlyZWNvcmRfYW5kX21vcmUnKSwKICAgIF0KCiAgICBvcGVyYXRpb25zID0gWwogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlQ29uc3RyYWludCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nc2VydmljZXN1YnNjcmlwdGlvbicsCiAgICAgICAgICAgIG5hbWU9J3Bvc2l0aXZlX3VuaXRzQ291bnRfY2hlY2snLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVDb25zdHJhaW50KAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzZXJ2aWNlc3Vic2NyaXB0aW9uJywKICAgICAgICAgICAgbmFtZT0ncG9zaXRpdmVfdW5pdFByaWNlX2NoZWNrJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlQ29uc3RyYWludCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nc2VydmljZXN1YnNjcmlwdGlvbicsCiAgICAgICAgICAgIG5hbWU9J3Bvc2l0aXZlX3RvdGFsUHJpY2VfY2hlY2snLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRDb25zdHJhaW50KAogICAgICAgICAgICBtb2RlbF9uYW1lPSdzZXJ2aWNlc3Vic2NyaXB0aW9uJywKICAgICAgICAgICAgY29uc3RyYWludD1tb2RlbHMuQ2hlY2tDb25zdHJhaW50KGNoZWNrPW1vZGVscy5RKCgndW5pdHNDb3VudF9fZ3RlJywgMCkpLCBuYW1lPSdwb3NpdGl2ZV91bml0c0NvdW50X2NoZWNrJyksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZENvbnN0cmFpbnQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3NlcnZpY2VzdWJzY3JpcHRpb24nLAogICAgICAgICAgICBjb25zdHJhaW50PW1vZGVscy5DaGVja0NvbnN0cmFpbnQoY2hlY2s9bW9kZWxzLlEoKCd1bml0UHJpY2VfX2d0ZScsIDApKSwgbmFtZT0ncG9zaXRpdmVfdW5pdFByaWNlX2NoZWNrJyksCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZENvbnN0cmFpbnQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J3NlcnZpY2VzdWJzY3JpcHRpb24nLAogICAgICAgICAgICBjb25zdHJhaW50PW1vZGVscy5DaGVja0NvbnN0cmFpbnQoY2hlY2s9bW9kZWxzLlEoKCd0b3RhbFByaWNlX19ndGUnLCAwKSksIG5hbWU9J3Bvc2l0aXZlX3RvdGFsUHJpY2VfY2hlY2snKSwKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove constraint positive_unitsCount_check from model servicesubscription
--
ALTER TABLE "ServiceSubscription" DROP CONSTRAINT "positive_unitsCount_check";
--
-- Remove constraint positive_unitPrice_check from model servicesubscription
--
ALTER TABLE "ServiceSubscription" DROP CONSTRAINT "positive_unitPrice_check";
--
-- Remove constraint positive_totalPrice_check from model servicesubscription
--
ALTER TABLE "ServiceSubscription" DROP CONSTRAINT "positive_totalPrice_check";
--
-- Create constraint positive_unitsCount_check on model servicesubscription
--
ALTER TABLE "ServiceSubscription" ADD CONSTRAINT "positive_unitsCount_check" CHECK ("unitsCount" >= 0);
--
-- Create constraint positive_unitPrice_check on model servicesubscription
--
ALTER TABLE "ServiceSubscription" ADD CONSTRAINT "positive_unitPrice_check" CHECK ("unitPrice" >= 0);
--
-- Create constraint positive_totalPrice_check on model servicesubscription
--
ALTER TABLE "ServiceSubscription" ADD CONSTRAINT "positive_totalPrice_check" CHECK ("totalPrice" >= 0);
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Create constraint positive_totalPrice_check on model servicesubscription
--
ALTER TABLE "ServiceSubscription" DROP CONSTRAINT "positive_totalPrice_check";
--
-- Create constraint positive_unitPrice_check on model servicesubscription
--
ALTER TABLE "ServiceSubscription" DROP CONSTRAINT "positive_unitPrice_check";
--
-- Create constraint positive_unitsCount_check on model servicesubscription
--
ALTER TABLE "ServiceSubscription" DROP CONSTRAINT "positive_unitsCount_check";
--
-- Remove constraint positive_totalPrice_check from model servicesubscription
--
ALTER TABLE "ServiceSubscription" ADD CONSTRAINT "positive_totalPrice_check" CHECK ("totalPrice" > 0);
--
-- Remove constraint positive_unitPrice_check from model servicesubscription
--
ALTER TABLE "ServiceSubscription" ADD CONSTRAINT "positive_unitPrice_check" CHECK ("unitPrice" > 0);
--
-- Remove constraint positive_unitsCount_check from model servicesubscription
--
ALTER TABLE "ServiceSubscription" ADD CONSTRAINT "positive_unitsCount_check" CHECK ("unitsCount" > 0);
COMMIT;

    `)
}
