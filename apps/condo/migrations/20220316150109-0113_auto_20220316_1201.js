// auto generated by kmigrator
// KMIGRATOR:0113_auto_20220316_1201:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi40IG9uIDIwMjItMDMtMTYgMTI6MDEKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKaW1wb3J0IGRqYW5nby5kYi5tb2RlbHMuZGVsZXRpb24KCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAxMTJfcGF5bWVudHNmaWx0ZXJ0ZW1wbGF0ZWhpc3RvcnlyZWNvcmRfYW5kX21vcmUnKSwKICAgIF0KCiAgICBvcGVyYXRpb25zID0gWwogICAgICAgIG1pZ3JhdGlvbnMuQWRkRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J2FjcXVpcmluZ2ludGVncmF0aW9uY29udGV4dCcsCiAgICAgICAgICAgIG5hbWU9J3BheW1lbnRzQWxsb3dlZEZyb20nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuRGF0ZVRpbWVGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYWNxdWlyaW5naW50ZWdyYXRpb25jb250ZXh0JywKICAgICAgICAgICAgbmFtZT0ncGF5bWVudHNBbGxvd2VkVG8nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuRGF0ZVRpbWVGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYWNxdWlyaW5naW50ZWdyYXRpb25jb250ZXh0aGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2lzUGF5bWVudHNBbGxvd2VkJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkpTT05GaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYWNxdWlyaW5naW50ZWdyYXRpb25jb250ZXh0aGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J3BheW1lbnRzQWxsb3dlZEZyb20nLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuRGF0ZVRpbWVGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYWNxdWlyaW5naW50ZWdyYXRpb25jb250ZXh0aGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J3BheW1lbnRzQWxsb3dlZFRvJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkRhdGVUaW1lRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuQWx0ZXJGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nYWNxdWlyaW5naW50ZWdyYXRpb25jb250ZXh0JywKICAgICAgICAgICAgbmFtZT0nb3JnYW5pemF0aW9uJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkZvcmVpZ25LZXkoZGJfY29sdW1uPSdvcmdhbml6YXRpb24nLCBvbl9kZWxldGU9ZGphbmdvLmRiLm1vZGVscy5kZWxldGlvbi5DQVNDQURFLCByZWxhdGVkX25hbWU9JysnLCB0bz0nX2RqYW5nb19zY2hlbWEub3JnYW5pemF0aW9uJyksCiAgICAgICAgKSwKICAgIF0K

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field paymentsAllowedFrom to acquiringintegrationcontext
--
ALTER TABLE "AcquiringIntegrationContext" ADD COLUMN "paymentsAllowedFrom" timestamp with time zone NULL;
--
-- Add field paymentsAllowedTo to acquiringintegrationcontext
--
ALTER TABLE "AcquiringIntegrationContext" ADD COLUMN "paymentsAllowedTo" timestamp with time zone NULL;
--
-- Add field isPaymentsAllowed to acquiringintegrationcontexthistoryrecord
--
ALTER TABLE "AcquiringIntegrationContextHistoryRecord" ADD COLUMN "isPaymentsAllowed" jsonb NULL;
--
-- Add field paymentsAllowedFrom to acquiringintegrationcontexthistoryrecord
--
ALTER TABLE "AcquiringIntegrationContextHistoryRecord" ADD COLUMN "paymentsAllowedFrom" timestamp with time zone NULL;
--
-- Add field paymentsAllowedTo to acquiringintegrationcontexthistoryrecord
--
ALTER TABLE "AcquiringIntegrationContextHistoryRecord" ADD COLUMN "paymentsAllowedTo" timestamp with time zone NULL;
--
-- Alter field organization on acquiringintegrationcontext
--
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Alter field organization on acquiringintegrationcontext
--
--
-- Add field paymentsAllowedTo to acquiringintegrationcontexthistoryrecord
--
ALTER TABLE "AcquiringIntegrationContextHistoryRecord" DROP COLUMN "paymentsAllowedTo" CASCADE;
--
-- Add field paymentsAllowedFrom to acquiringintegrationcontexthistoryrecord
--
ALTER TABLE "AcquiringIntegrationContextHistoryRecord" DROP COLUMN "paymentsAllowedFrom" CASCADE;
--
-- Add field isPaymentsAllowed to acquiringintegrationcontexthistoryrecord
--
ALTER TABLE "AcquiringIntegrationContextHistoryRecord" DROP COLUMN "isPaymentsAllowed" CASCADE;
--
-- Add field paymentsAllowedTo to acquiringintegrationcontext
--
ALTER TABLE "AcquiringIntegrationContext" DROP COLUMN "paymentsAllowedTo" CASCADE;
--
-- Add field paymentsAllowedFrom to acquiringintegrationcontext
--
ALTER TABLE "AcquiringIntegrationContext" DROP COLUMN "paymentsAllowedFrom" CASCADE;
COMMIT;

    `)
}
